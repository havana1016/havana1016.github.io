<!DOCTYPE html>
<html lang="en">
!
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">
    <style>
       
       .item{
           margin-top:25px;
       }

        .head-title {
            font-family: 'Noto Sans Korean', sans-serif;
            font-size: 30px;
            color: black;
            text-align: center;
            margin-top: 10px;
            margin-bottom: 20px;
        }

        .input {
            font-family: 'Noto Sans Korean', sans-serif;
        }

        .inputbox {
            border-color: gray;
            
        }

        .uptext {
            font-size: 12px;
            text-align: left;
            margin-top: 5px;
            margin-bottom: 15px;
            font-family: 'Noto Sans Korean', sans-serif;
            color:gray;
        }
    </style>
    <script>
        function resetupid() {
            if(document.getElementById("up-id").style.color.match("gray")){
                document.getElementById("up-id").innerHTML= ""}
        }
        function resetuppw() {
            document.getElementById("up-pw").innerHTML = ""
        }
        function resetuprepw() {
            document.getElementById("up-repw").innerHTML = ""
        }
        function resetupall() {
            document.getElementById("up-repw").innerHTML = ""
            document.getElementById("up-id").innerHTML = ""
            document.getElementById("up-pw").innerHTML = ""
        }



        function upid() {
            document.getElementById("up-id").innerHTML = "영문 소문자,숫자 8~12자"
        }
        function uppw() {
            document.getElementById("up-pw").innerHTML = "영문 소문자, 숫자, 1개 이상의 특수문자 8~12자"
        }
        function uprepw() {
            document.getElementById("up-repw").innerHTML = "입력하신 비밀번호와 똑같이 입력해주세요."
        }
        function upname() {
            document.getElementById("up-name").innerHTML = "한글 2~10자"
        }
        function upbir() {
            document.getElementById("up-bir").innerHTML = "생년월일"
        }

        function idc() {
            let inputid=document.getElementById("input-id");
            let id = document.getElementById("input-id").value;
            let upid = document.getElementById("up-id")
            const exp = /^(?=.*[a-z])(?=.*[\d])[a-z \d]{8,12}$/
                if(id.length==0){
                    upid.innerHTML="필수 정보입니다."
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")
                }else if(id.length==undefined){
                    upid.innerHTML = "영문 소문자,숫자 8~12자"
                }else{
           
           
                if (id.match(exp)) {
                    inputid.className=("form-control inputbox is-valid")
                    
                    upid.innerHTML = "사용가능한 아이디입니다."
                    upid.style.color="green"
                } else if(!id.match(exp)) {
                    inputid.className=("form-control inputbox is-invalid")
                    
                    upid.innerHTML = "영문 소문자,숫자 8~12자"
                    upid.style.color="red"
                }}
            }
        
        function pwc() {
            let inputid=document.getElementById("input-pw");
            let id = document.getElementById("input-pw").value;
            let upid = document.getElementById("up-pw")
            const exp = /^(?=.*[a-z])(?=.*[\d])(?=.*[! @ # $ % ^ & * - _])[a-z \d ! @ # $ % ^ & * - _]{8,12}$/
            if(id.length==0){
                    upid.innerHTML="필수 정보입니다."
                    upid.style.color="red"
                    inputid.className=("form-control is-invalid")
                }
           
           
                else if (id.match(exp)) {
                    inputid.className=("form-control is-valid")
                    
                    upid.innerHTML = "사용가능한 비밀번호입니다."
                    upid.style.color="green"
                } else if(!id.match(exp)) {
                    inputid.className=("form-control is-invalid")
                    
                    upid.innerHTML = "영문소문자,숫자,1개 이상의 특수문자 8~12자"
                    upid.style.color="red"
                }
        }

        function namec() {
            let inputid=document.getElementById("input-name");
            let id = document.getElementById("input-name").value;
            let upid = document.getElementById("up-name")
            const exp = /^(?=.*[ㄱ-ㅎㅏ-ㅣ가-힣])[ㄱ-ㅎㅏ-ㅣ가-힣]{2,10}$/
            if(id.length==0){
                    upid.innerHTML="필수 정보입니다."
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")
                }
                else if (id.match(exp)) {
                    upid.innerHTML = "사용가능한 이름입니다."
                    upid.style.color="green"
                    inputid.className=("form-control inputbox is-valid")
                } else if(!id.match(exp)) {
                    upid.innerHTML = "한글 2~10자"
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")
                }
        }

        function repwc() {
            let inputid=document.getElementById("input-repw");
            let id = document.getElementById("input-repw").value;
            let pw = document.getElementById("input-pw").value;
            let upid = document.getElementById("up-repw")
            if(pw.length==0){
                    
                    resetrepw();
                    upid.innerHTML="먼저 윗칸의 비밀번호를 입력해주세요."
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")

                }else{
            if(id.length==0){
                    upid.innerHTML="필수 정보입니다."
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")
                }
           
           
                else if (id===pw) {
                    inputid.className=("form-control inputbox is-valid")
                    
                    upid.innerHTML = "비밀번호가 일치합니다."
                    upid.style.color="green"
                } else if(id!=pw) {
                    inputid.className=("form-control inputbox is-invalid")
                    
                    upid.innerHTML = "비밀번호가 일치하지 않습니다."
                    upid.style.color="red"
                }}
        }


        function birc() {
            let inputid=document.getElementById("input-bir");
            let id = document.getElementById("input-bir").value;
            let upid = document.getElementById("up-bir")
            let date1=new Date();
            let date2=new Date(id)
            
            let locdate1= date1.toLocaleDateString()
            let locdate2= date2.toLocaleDateString()
            
            let year1 = date1.getFullYear(); // 년도
            let month1 = date1.getMonth() + 1;  // 월
            let day1 = date1.getDate(); 

            let year2=date2.getFullYear();
            let month2 =date2.getMonth() + 1;  // 월
            let day2 = date2.getDate();

            let year2int=parseInt(year2)
            let year1int=parseInt(year1)


            let result =(year1int-year2int)
            console.log(`result: ${result}`)

            if(id.length==0){
                    upid.innerHTML="필수 정보입니다."
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")
                }
                
                
                else{

                    if(result==0 || (result<=9 && result>0)){
                        upid.innerHTML="10세 이상만 가입가능합니다."
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")
                    }else if(result<0){
                        upid.innerHTML="날짜 입력이 잘못되었습니다."
                    upid.style.color="red"
                    inputid.className=("form-control inputbox is-invalid")
                    }
                    else{
                    upid.innerHTML="입력이 완료 되었습니다."
                    upid.style.color="green"
                    inputid.className=("form-control inputbox is-valid")}
                }
                
        }

        function resetrepw(){
            let inputid=document.getElementById("input-repw");
            let id = document.getElementById("input-repw").value;
            let pw = document.getElementById("input-pw").value;
            let upid = document.getElementById("up-repw")
           
           if(pw.length==0){ upid.innerHTML=""
            inputid.className=("form-control inputbox")
            inputid.value="";}
        }


        function seepw(){
            let pw = document.getElementById("input-pw");
            let icon=document.getElementById("pwb");
            console.log(pw.value.length)
            if(pw.value.length!="0"){
            if (pw.type=="password"){
                pw.type="text";
                icon.className="btn btn-outline-secondary bi bi-eye-slash";
            }else{
                pw.type="password";
                icon.className="btn btn-outline-secondary bi bi-eye";
            }}
        }

        function seerepw(){
            let pw = document.getElementById("input-repw");
            let icon=document.getElementById("repwb");
            console.log(pw.length)
            if(pw.value.length!=0){
            if (pw.type=="password"){
                pw.type="text";
                icon.className="btn btn-outline-secondary bi bi-eye-slash";
            }else{
                pw.type="password";
                icon.className="btn btn-outline-secondary bi bi-eye";
            }}
        }


        

        function yesmail(){
            let mail=document.getElementById("input-email");
            mail.removeAttribute("disabled")
        }

        function mailplus(){
            console.log("메일플러스 호출")
            let mailval=document.getElementById("input-email").value
            const selval=document.getElementById("mail-sel").value
            let mail=document.getElementById("input-email");
            let result;
            
            
            result=(mailval+selval)
            console.log(result)
            
            mail.setAttribute("value",result)
        }
        function resetmail(){
            console.log("reset호출")
            let mail=document.getElementById("input-email");
            mail.value=""
            mail.removeAttribute("value")
        }
       
    </script>
</head>

<body>

    <div class="head-title rounded " style=width:400px>
        <p id="title"style=color:gray>Join MEMBERS</p>
        
        <div class="input-box">
            <div class="item">
            <input class="form-control inputbox" id="input-id" onclick="upid()" onkeyup="idc()" onblur="idc()"
                type="text" placeholder="ID" maxlength="12">
            <p class="uptext" id="up-id"></p>
        </div>
            <!--
            <div class="input-group mb-3" >
                <input type="text" class="form-control " placeholder="비밀번호를 입력하세요." aria-label="Recipient's username">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2"><i class="bi bi-eye col-2"></i></button>
              </div>
              <p class="uptext" id="up-pw">영어와 숫자 1개 이상의 특수문자 8~12자 </p>
            -->

            <div class="item">
              <div class="input-group" >
            <input class="form-control inputbox " id="input-pw" onclick="uppw()" onkeyup="pwc()" onblur="pwc()"
                type="password" placeholder="Password" maxlength="12">
                <button id="pwb" class="btn btn-outline-secondary bi bi-eye" onclick="seepw();" type="button"></button>
            </div>
            <p class="uptext" id="up-pw"></p>
        </div>

            <div class="item">
                <div class="input-group" >
                <input class="form-control inputbox bi bi-eye" id="input-repw" onkeyup="repwc()" 
                type="password" placeholder="Password" maxlength="12">
                <button id="repwb" class="input-group-text btn btn-outline bi bi-eye" onclick="seerepw();" type="button"></button>
            </div>
                   <div class="col-8 uptext" id="up-repw"></div>
                   <div class="col-4 bi bi-eye"></div>
        </div>
            <div class="item">
                <div class="input-group" >
            <input class="form-control inputbox" id="input-name" onclick="upname()" onkeyup="namec()" onblur="namec()"
                type="text" placeholder="Name" maxlength="12">
            </div>
            <p class="uptext" id="up-name"></p>
        </div>
        <div class="item">
            <input class="form-control inputbox" id="input-bir" onclick="upbir()" onkeyup="birc()" onblur="birc()"
                type="date" placeholder="Birth">
            <p class="uptext" id="up-bir"></p>
        </div>
        <div class="row g-1">
            <div class="col-8">
              <div class=>
                <input type="text" id="input-email"  class="form-control"  placeholder="E-mail" 
                disabled="disabled" onkeypress="mailplus()">
                
              </div>
            </div>
            <div class="col-4">
              <div class=>
                <select class="form-select" id="mail-sel" onchange="" onclick="yesmail()">  <!---->
                  <option selected disabled="disabled">Server</option>
                  <option value="@gmail.com" >Google</option>
                  <option value="@naver.com" onclick="resetmail()">Naver</option>
                  <option value="@daum.net" >Daum</option>
                  <option value>직접입력</option>
                </select>
              </div>
            </div>
          </div>
          <div class="">
            
            <div class="input-group ">
                <input type="text" class="form-control is-valid" >
                <button class="input-group-text bi bi-eye" ></button>
              
            </div>
          </div>


        </div>
    </div>


</body>

</html>